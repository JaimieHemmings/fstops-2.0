{% extends 'base.html' %}
{% load static %}

{% block content %}
<header class="p-3 py-[20rem] bg-fixed dark-overlay relative center-bg-img" style="background-image:url({{article.thumbnail.url}})">
  <div class="container mx-auto relative z-[20] flex flex-col md:flex-row">
    <div class="basis-1/4">
      <p class="inter opacity-[0.6] font-semibold text-white text-2xl">{{ article.date|date:"M d, Y"}}</p>
    </div>
    <div class="basis-2/4">
      <h1 class="text-white inter text-7xl font-semibold">{{ article.title}}</h1>
    </div>
  </div>
</header>
<section class="container mx-auto flex flex-col md:flex-row justify-between">
  <div class="basis-1/4 md:py-[10rem] pt-5 p-3">
    <div class="top-[1rem] sticky">
      <div class="flex flex-col">
        <div class="flex flex-row justify-start">
          <div class="basis-1/5">
            <img src="{% static 'home/img/small-selfie.avif' %}" class="max-w-full w-14 h-14 object-fit rounded-md">
          </div>
          <div class="basis-4/5 max-md px-3">
            <h2 class="inter font-semibold text-xl pb-1">Ben Hollington</h2>
            <p class="inter font-semibold text-xl opacity-[0.6]">Professional Photographer</p>
          </div>
        </div>
        <div class="py-5 max-md:border-b-grey">
          <a href="{% url 'contact' %}" class="font-bold inter text-base link-primary relative mt-5" target="_blank">
          Book your session
            <span class="inline-block absolute">
              <svg xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 256 256"
                style="user-select: none; width: 30px; height: 30px; display: block; fill: rgb(0,0,0); color: rgb(0,0,0); flex-shrink: 0;"
                focusable="false"
                class="inline ml-3"
                color="rgb(0, 0, 0)">
                <g color="rgb(0, 0, 0)" weight="regular"><path d="M200,64V168a8,8,0,0,1-16,0V83.31L69.66,197.66a8,8,0,0,1-11.32-11.32L172.69,72H88a8,8,0,0,1,0-16H192A8,8,0,0,1,200,64Z"></path></g>
              </svg>
            </span>
          </a>
        </div>
      </div>        
    </div>
  </div>
  <div class="basis-2/4 px-3 border-l-grey border-r-grey py-5 md:py-[10rem] ">
    <p class="inter font-semibold text-3xl pb-[3rem]">{{ article.intro }}</p>
    <p class="inter font-semibold text-xl opacity-[0.6]">{{ article.lead_paragraph }}</p>
    <img class="py-[3rem]" loading="lazy" src="{{ article.body_img.url }}" alt="{{ article.title }}">
    <div class="article-body">
      {{article.body|safe}}
    </div>
  </div>
  <div class="basis-1/4 pt-5 md:py-[10rem] pb-[3rem]">
    <div class="w-full sticky top-0">
    {% for article in last_three_articles %}
      <a href="{% url 'article' article.slug %}" class="p-3 flex flex-row border-b-grey">
        <div class="basis-1/3">
          <img src="{{ article.thumbnail.url }}" class="max-w-full h-auto object-fit rounded-md">
        </div>
        <div class="basis-2/3 pl-3">
          <p class="inter font-semibold text-base md:text-xl opacity-[0.6]">{{ article.date|date:"m/d/y" }}</p>
          <h2 class="inter text-xl lg:text-2xl font-semibold">{{ article.title }}</h2>
        </div>
      </a>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}